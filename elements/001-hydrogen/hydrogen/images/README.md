# Generated Images Directory

This directory contains automatically generated SVG visualization files that provide visual representations of various project metrics and test results.

## Database Diagrams

In addition to the files described in detail in the sections that follow, there is also a subdirectory for each database design that is built into Hydrogen. These are essentially table relationship diagrams, simplified versions of a traditional Entity-Relationship Diagram (ERD) for each supported database engine, based off of the most current migration available during the most recent build.

- [Acuranzo](acuranzo/README.md) - General Purpose Database Desgin (Acuranzo Enterprises Inc)
- [Helium](helium/README.md) - 3D Printing Database Desgin (Philement Project)
- [GAIUS](gaius/README.md) - Plant Yield Modelling Design (GaiusYield Project)
- [GLM](glm/README.md) - Greenhouse Labour Management Design (500 Foods Corporation)

## Available Images

### CLOC_CODE.svg

- **Purpose**: Visual representation of code line count statistics generated by cloc (Count Lines of Code)
- **Content**: Main code statistics table showing lines of code by language/file type
- **Generation**: Automatically created during Test 98 (Code Size Analysis)
- **Manual Generation**:

  ```bash
  # Generate cloc tables directly (console output)
  tests/lib/cloc_tables.sh

  # Or run code size test
  cd tests
  ./test_80_code_size.sh
  ```

- **When Generated**: During full test suite execution (`test_00_all.sh`) or individual code size testing

### CLOC_STAT.svg

- **Purpose**: Extended statistics visualization from cloc analysis
- **Content**: Detailed code metrics including file counts, blank lines, comment lines, and code lines
- **Generation**: Automatically created during Test 98 (Code Size Analysis)
- **Manual Generation**:

  ```bash
  # Generate cloc tables directly (console output)
  tests/lib/cloc_tables.sh

  # Or run code size test
  cd tests
  ./test_80_code_size.sh
  ```

- **When Generated**: During full test suite execution (`test_00_all.sh`) or individual code size testing

### COMPLETE.svg

- **Purpose**: Visual summary of complete test suite execution results
- **Content**: Test results table showing pass/fail counts, execution times, and test coverage percentages
- **Generation**: Automatically created during Test 00 (Test Suite Orchestration)
- **Manual Generation**:

  ```bash
  cd tests
  ./test_00_all.sh
  ```

- **When Generated**: During full test suite execution (`test_00_all.sh`)

### COVERAGE.svg

- **Purpose**: Visual representation of test coverage analysis results
- **Content**: Coverage statistics table showing Unity and blackbox test coverage percentages
- **Generation**: Automatically created during Test 00 (Test Suite Orchestration)
- **Manual Generation**:

  ```bash
  # Generate coverage table directly (console output)
  tests/lib/coverage_table.sh

  # Or run full test suite
  cd tests
  ./test_00_all.sh
  ```

- **When Generated**: During full test suite execution (`test_00_all.sh`) and Test 99 (Coverage Collection)

## Quick Code Statistics Generation

For a quick view of code statistics without running the full test suite, use the `mkx` alias:

```bash
# From project root directory
mkx
```

This alias executes: `cd tests && lib/cloc_tables.sh && cd - > /dev/null 2>&1`

The `mkx` command provides:

- Fast code statistics generation without test framework overhead
- Direct output of cloc tables to console
- No SVG file generation (console output only)

## Technical Details

### Generation Process

- **SVG Creation**: Uses the `oh` (Oh.sh) tool to convert text tables to SVG format
- **Width**: Fixed width of 108 characters for consistent formatting
- **Background**: Transparent background for flexible embedding
- **Font**: Monospace font for proper alignment

### File Naming Convention

- **Automatic**: Files are named with descriptive prefixes (CLOC_, COMPLETE, COVERAGE)
- **Timestamps**: Generated files include timestamps in temporary processing but final files replace existing versions
- **Cleanup**: Old versions are automatically replaced during regeneration

### Dependencies

- **cloc**: Code line counting tool (required for CLOC_*.svg files)
- **oh**: Text-to-SVG conversion tool (required for all SVG generation)
- **Test Framework**: Full test suite execution (required for COMPLETE.svg and COVERAGE.svg)

## Usage Examples

### View Current Statistics

```bash
# Display current code statistics
cat images/CLOC_CODE.svg

# View test results summary
cat images/COMPLETE.svg

# Check coverage status
cat images/COVERAGE.svg
```

### Regenerate All Images

```bash
# Run full test suite to regenerate all images
cd tests
./test_00_all.sh
```

### Generate Specific Images

```bash
# Generate only code statistics
cd tests
./test_80_code_size.sh

# Generate only test results and coverage
cd tests
./test_99_coverage.sh
```

## Integration

These SVG files are automatically referenced in:

- **README.md**: Embedded in project documentation
- **Test Reports**: Included in automated test output
- **CI/CD Pipelines**: Used for visual status reporting

## Troubleshooting

### Missing Images

If SVG files are missing:

1. Ensure `Oh` tool is installed
2. Run the appropriate test (`test_00_all.sh` or `test_80_code_size.sh`)
3. Check test output for SVG generation errors

### Outdated Images

Images are automatically regenerated during test execution. To ensure current data:

- Run full test suite: `./tests/test_00_all.sh`
- Or regenerate specific metrics as needed

### Permission Issues

Ensure write permissions in the `images/` directory for SVG generation.