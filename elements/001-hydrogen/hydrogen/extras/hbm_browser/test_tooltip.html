<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tooltip Test</title>
  <style>
    :root {
      --bg-color: #000409;
      --text-color: #e0e0e0;
      --text-secondary: #a0a0a0;
      --accent-color: #4a90e2;
      --accent-secondary: #7ed321;
      --chart-bg: rgba(0, 4, 9, 0.8);
      --panel-bg: rgba(10, 15, 25, 0.9);
      --border-color: rgba(100, 150, 255, 0.3);
      --hover-color: rgba(100, 150, 255, 0.2);
      --active-color: rgba(100, 150, 255, 0.4);
      --success-color: #4caf50;
      --warning-color: #ff9800;
      --error-color: #f44336;
      --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      --transition-speed: 0.3s;
      --slow-transition-speed: 0.8s;
      --panel-transition-speed: 0.3s;
    }

    body {
      font-family: var(--font-family);
      background-color: var(--bg-color);
      color: var(--text-color);
      padding: 20px;
    }

    .test-container {
      background: var(--panel-bg);
      padding: 20px;
      border-radius: 8px;
      max-width: 600px;
      margin: 0 auto;
    }

    .metric-label-selected {
      cursor: help;
      position: relative;
      font-size: 0.9rem;
      color: var(--text-color);
      font-weight: 500;
      margin-bottom: 3px;
      padding: 10px;
      background: rgba(20, 30, 45, 0.5);
      border-radius: 6px;
      margin-bottom: 10px;
    }

    .metric-label-selected:hover {
      text-decoration: underline;
      text-decoration-style: dotted;
      text-decoration-color: var(--accent-color);
    }

    h1 {
      color: var(--accent-color);
      text-align: center;
      margin-bottom: 20px;
    }

    .instructions {
      background: rgba(20, 30, 45, 0.7);
      padding: 15px;
      border-radius: 6px;
      margin-bottom: 20px;
      border: 1px solid var(--border-color);
    }

    /* Copy notification styling */
    .copy-notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--panel-bg);
      color: var(--text-color);
      padding: 12px 18px;
      border-radius: 6px;
      border: 1px solid var(--accent-color);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      font-size: 0.9rem;
      z-index: 10000;
      animation: slideIn 0.3s ease-out;
      max-width: 400px;
      word-break: break-all;
    }

    @keyframes slideIn {
      from {
        transform: translateY(100%);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }
  </style>
  <script>
    function copyToClipboard(text) {
      try {
        // Create a temporary input element
        const tempInput = document.createElement('input');
        tempInput.value = text;
        document.body.appendChild(tempInput);

        // Select and copy the text
        tempInput.select();
        tempInput.setSelectionRange(0, 99999); // For mobile devices

        // Copy to clipboard
        const success = document.execCommand('copy');

        // Clean up
        document.body.removeChild(tempInput);

        // Show feedback
        if (success) {
          // Show a temporary notification
          const existingNotification = document.getElementById('copy-notification');
          if (existingNotification) {
            existingNotification.remove();
          }

          const notification = document.createElement('div');
          notification.id = 'copy-notification';
          notification.className = 'copy-notification';
          notification.textContent = `Copied: ${text}`;
          document.body.appendChild(notification);

          // Remove notification after 2 seconds
          setTimeout(() => {
            notification.remove();
          }, 2000);
        }

        return success;
      } catch (error) {
        console.error('Failed to copy to clipboard:', error);
        return false;
      }
    }
  </script>
</head>
<body>
  <div class="test-container">
    <h1>HBM Browser Tooltip Test</h1>

    <div class="instructions">
      <h3>Test Instructions:</h3>
      <p>Hover over the metric labels below to see the tooltip showing the full metric path.</p>
      <p>This demonstrates the functionality that has been added to the HBM Browser.</p>
    </div>

    <h3>Test Metrics:</h3>

    <div class="metric-label-selected" title="Path: summary.total_tests" onclick="copyToClipboard('summary.total_tests')">
      Total Tests
    </div>

    <div class="metric-label-selected" title="Path: summary.combined_coverage" onclick="copyToClipboard('summary.combined_coverage')">
      Combined Coverage %
    </div>

    <div class="metric-label-selected" title="Path: test_results.data[0].elapsed" onclick="copyToClipboard('test_results.data[0].elapsed')">
      Test 01-CMP elapsed
    </div>

    <div class="metric-label-selected" title="Path: cloc.main.JavaScript.code" onclick="copyToClipboard('cloc.main.JavaScript.code')">
      CLOC JavaScript code
    </div>

    <div class="metric-label-selected" title="Path: coverage.data.src.api.api_calls" onclick="copyToClipboard('coverage.data.src.api.api_calls')">
      Coverage src/api/api_calls
    </div>

    <h3>Expected Behavior:</h3>
    <ul>
      <li>When you hover over a metric label, you should see a tooltip showing "Path: [full.metric.path]"</li>
      <li>The label should show a dotted underline on hover</li>
      <li>When you click on a metric label, it should copy the path to your clipboard</li>
      <li>After clicking, you should see a temporary notification in the bottom-right corner confirming the copy</li>
    </ul>
  </div>
</body>
</html>